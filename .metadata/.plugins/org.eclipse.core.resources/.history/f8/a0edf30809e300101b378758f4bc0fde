/* application/Core/main.c */
#include "FreeRTOS.h"
#include "task.h"
#include "freertos_init.h"
#include "uart_driver.h"
#include "gpio_driver.h"
#include "gpio_exti.h"

#define APP_SLOT_A_BASE        0x0800C000UL
//#define APP_SLOT_B_BASE        0x0803E000UL
#define APP_SLOT_SIZE_BYTES   (200UL * 1024UL)

#if defined(APP_SLOT_A_BASE)
    #define APP_BASE_ADDR  APP_SLOT_A_BASE
#elif defined(APP_SLOT_B_BASE)
    #define APP_BASE_ADDR  APP_SLOT_B_BASE
#endif


int main(void)
{

    uart_init(115200);
    gpio_init_led();

    GPIO_EXTI_Init();
    uart_send_str("\r\n[AegisFW-APP] Boot OK\r\n");

    rtos_start();              // vTaskStartScheduler inside

    while(1);
}


